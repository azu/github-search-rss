{
    "version": "https://jsonfeed.org/version/1",
    "title": "Node.js notable changes",
    "home_page_url": "https://azu.github.io/github-search-rss/nodejs-notable.json",
    "feed_url": "https://azu.github.io/github-search-rss/nodejs-notable.json",
    "description": "Node.js notable changes on GitHub",
    "items": [
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16746759?u=60fb76d4d645e86d42b147f009f2be0836a7317c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">same as the following PR but for writable:</p>\n<ul dir=\"auto\">\n<li><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1906654850\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49745\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/49745/hovercard\" href=\"https://github.com/nodejs/node/pull/49745\">#49745</a></li>\n</ul>\n<p dir=\"auto\"><strong>Benchmark CI output:</strong></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"                                                                                          confidence improvement accuracy (*)    (**)   (***)\nstreams/creation.js kind='duplex' n=50000000                                                     ***     10.15 %       ±1.04%  ±1.39%  ±1.81%\nstreams/creation.js kind='readable' n=50000000                                                   ***     -1.59 %       ±0.64%  ±0.85%  ±1.11%\nstreams/creation.js kind='transform' n=50000000                                                           3.94 %       ±4.16%  ±5.58%  ±7.37%\nstreams/creation.js kind='writable' n=50000000                                                   ***     14.64 %       ±1.57%  ±2.09%  ±2.73%\nstreams/destroy.js kind='duplex' n=1000000                                                       ***     13.30 %       ±3.37%  ±4.52%  ±5.95%\nstreams/destroy.js kind='readable' n=1000000                                                              1.01 %       ±2.03%  ±2.70%  ±3.51%\nstreams/destroy.js kind='transform' n=1000000                                                    ***     16.34 %       ±4.79%  ±6.43%  ±8.50%\nstreams/destroy.js kind='writable' n=1000000                                                     ***     17.12 %       ±3.07%  ±4.08%  ±5.32%\nstreams/pipe-object-mode.js n=5000000                                                                     1.87 %       ±3.01%  ±4.01%  ±5.23%\nstreams/pipe.js n=5000000                                                                                 0.17 %       ±2.36%  ±3.15%  ±4.09%\nstreams/readable-async-iterator.js sync='no' n=100000                                                    -0.51 %       ±6.21%  ±8.27% ±10.76%\nstreams/readable-async-iterator.js sync='yes' n=100000                                                   -0.90 %       ±5.11%  ±6.80%  ±8.85%\nstreams/readable-bigread.js n=1000                                                                        0.91 %       ±1.66%  ±2.21%  ±2.88%\nstreams/readable-bigunevenread.js n=1000                                                                  4.99 %       ±5.19%  ±6.91%  ±8.99%\nstreams/readable-boundaryread.js type='buffer' n=2000                                                    -1.70 %       ±1.80%  ±2.39%  ±3.12%\nstreams/readable-boundaryread.js type='string' n=2000                                                    -0.86 %       ±1.74%  ±2.32%  ±3.04%\nstreams/readable-from.js n=10000000                                                                      -1.03 %       ±2.16%  ±2.87%  ±3.74%\nstreams/readable-readall.js n=5000                                                                       -0.54 %       ±1.70%  ±2.27%  ±2.97%\nstreams/readable-unevenread.js n=1000                                                              *      0.54 %       ±0.46%  ±0.61%  ±0.80%\nstreams/writable-manywrites.js len=1024 callback='no' writev='no' sync='no' n=2000000                     2.09 %       ±2.82%  ±3.75%  ±4.88%\nstreams/writable-manywrites.js len=1024 callback='no' writev='no' sync='yes' n=2000000                    4.51 %      ±10.23% ±13.61% ±17.71%\nstreams/writable-manywrites.js len=1024 callback='no' writev='yes' sync='no' n=2000000                   -2.82 %       ±7.02%  ±9.34% ±12.16%\nstreams/writable-manywrites.js len=1024 callback='no' writev='yes' sync='yes' n=2000000                   5.14 %       ±8.67% ±11.55% ±15.04%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='no' sync='no' n=2000000             *      3.14 %       ±2.83%  ±3.77%  ±4.91%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='no' sync='yes' n=2000000                   9.35 %       ±9.50% ±12.64% ±16.47%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='yes' sync='no' n=2000000                  -3.87 %       ±8.31% ±11.06% ±14.39%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='yes' sync='yes' n=2000000                  3.68 %       ±7.45%  ±9.92% ±12.91%\nstreams/writable-manywrites.js len=32768 callback='no' writev='no' sync='no' n=2000000                    1.75 %       ±2.46%  ±3.28%  ±4.28%\nstreams/writable-manywrites.js len=32768 callback='no' writev='no' sync='yes' n=2000000          ***     -7.14 %       ±3.16%  ±4.21%  ±5.48%\nstreams/writable-manywrites.js len=32768 callback='no' writev='yes' sync='no' n=2000000                  -0.14 %       ±3.44%  ±4.58%  ±5.97%\nstreams/writable-manywrites.js len=32768 callback='no' writev='yes' sync='yes' n=2000000          **     -4.60 %       ±3.03%  ±4.03%  ±5.25%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='no' sync='no' n=2000000                  -1.23 %       ±3.16%  ±4.21%  ±5.49%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='no' sync='yes' n=2000000                 -2.38 %       ±3.54%  ±4.71%  ±6.13%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='yes' sync='no' n=2000000                  1.02 %       ±3.22%  ±4.29%  ±5.59%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='yes' sync='yes' n=2000000         **     -5.14 %       ±3.52%  ±4.68%  ±6.10%\n\nBe aware that when doing many comparisons the risk of a false-positive\nresult increases. In this case, there are 35 comparisons, you can thus\nexpect the following amount of false-positive results:\n  1.75 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.35 false positives, when considering a   1% risk acceptance (**, ***),\n  0.04 false positives, when considering a 0.1% risk acceptance (***)\"><pre class=\"notranslate\"><code class=\"notranslate\">                                                                                          confidence improvement accuracy (*)    (**)   (***)\nstreams/creation.js kind='duplex' n=50000000                                                     ***     10.15 %       ±1.04%  ±1.39%  ±1.81%\nstreams/creation.js kind='readable' n=50000000                                                   ***     -1.59 %       ±0.64%  ±0.85%  ±1.11%\nstreams/creation.js kind='transform' n=50000000                                                           3.94 %       ±4.16%  ±5.58%  ±7.37%\nstreams/creation.js kind='writable' n=50000000                                                   ***     14.64 %       ±1.57%  ±2.09%  ±2.73%\nstreams/destroy.js kind='duplex' n=1000000                                                       ***     13.30 %       ±3.37%  ±4.52%  ±5.95%\nstreams/destroy.js kind='readable' n=1000000                                                              1.01 %       ±2.03%  ±2.70%  ±3.51%\nstreams/destroy.js kind='transform' n=1000000                                                    ***     16.34 %       ±4.79%  ±6.43%  ±8.50%\nstreams/destroy.js kind='writable' n=1000000                                                     ***     17.12 %       ±3.07%  ±4.08%  ±5.32%\nstreams/pipe-object-mode.js n=5000000                                                                     1.87 %       ±3.01%  ±4.01%  ±5.23%\nstreams/pipe.js n=5000000                                                                                 0.17 %       ±2.36%  ±3.15%  ±4.09%\nstreams/readable-async-iterator.js sync='no' n=100000                                                    -0.51 %       ±6.21%  ±8.27% ±10.76%\nstreams/readable-async-iterator.js sync='yes' n=100000                                                   -0.90 %       ±5.11%  ±6.80%  ±8.85%\nstreams/readable-bigread.js n=1000                                                                        0.91 %       ±1.66%  ±2.21%  ±2.88%\nstreams/readable-bigunevenread.js n=1000                                                                  4.99 %       ±5.19%  ±6.91%  ±8.99%\nstreams/readable-boundaryread.js type='buffer' n=2000                                                    -1.70 %       ±1.80%  ±2.39%  ±3.12%\nstreams/readable-boundaryread.js type='string' n=2000                                                    -0.86 %       ±1.74%  ±2.32%  ±3.04%\nstreams/readable-from.js n=10000000                                                                      -1.03 %       ±2.16%  ±2.87%  ±3.74%\nstreams/readable-readall.js n=5000                                                                       -0.54 %       ±1.70%  ±2.27%  ±2.97%\nstreams/readable-unevenread.js n=1000                                                              *      0.54 %       ±0.46%  ±0.61%  ±0.80%\nstreams/writable-manywrites.js len=1024 callback='no' writev='no' sync='no' n=2000000                     2.09 %       ±2.82%  ±3.75%  ±4.88%\nstreams/writable-manywrites.js len=1024 callback='no' writev='no' sync='yes' n=2000000                    4.51 %      ±10.23% ±13.61% ±17.71%\nstreams/writable-manywrites.js len=1024 callback='no' writev='yes' sync='no' n=2000000                   -2.82 %       ±7.02%  ±9.34% ±12.16%\nstreams/writable-manywrites.js len=1024 callback='no' writev='yes' sync='yes' n=2000000                   5.14 %       ±8.67% ±11.55% ±15.04%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='no' sync='no' n=2000000             *      3.14 %       ±2.83%  ±3.77%  ±4.91%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='no' sync='yes' n=2000000                   9.35 %       ±9.50% ±12.64% ±16.47%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='yes' sync='no' n=2000000                  -3.87 %       ±8.31% ±11.06% ±14.39%\nstreams/writable-manywrites.js len=1024 callback='yes' writev='yes' sync='yes' n=2000000                  3.68 %       ±7.45%  ±9.92% ±12.91%\nstreams/writable-manywrites.js len=32768 callback='no' writev='no' sync='no' n=2000000                    1.75 %       ±2.46%  ±3.28%  ±4.28%\nstreams/writable-manywrites.js len=32768 callback='no' writev='no' sync='yes' n=2000000          ***     -7.14 %       ±3.16%  ±4.21%  ±5.48%\nstreams/writable-manywrites.js len=32768 callback='no' writev='yes' sync='no' n=2000000                  -0.14 %       ±3.44%  ±4.58%  ±5.97%\nstreams/writable-manywrites.js len=32768 callback='no' writev='yes' sync='yes' n=2000000          **     -4.60 %       ±3.03%  ±4.03%  ±5.25%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='no' sync='no' n=2000000                  -1.23 %       ±3.16%  ±4.21%  ±5.49%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='no' sync='yes' n=2000000                 -2.38 %       ±3.54%  ±4.71%  ±6.13%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='yes' sync='no' n=2000000                  1.02 %       ±3.22%  ±4.29%  ±5.59%\nstreams/writable-manywrites.js len=32768 callback='yes' writev='yes' sync='yes' n=2000000         **     -5.14 %       ±3.52%  ±4.68%  ±6.10%\n\nBe aware that when doing many comparisons the risk of a false-positive\nresult increases. In this case, there are 35 comparisons, you can thus\nexpect the following amount of false-positive results:\n  1.75 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.35 false positives, when considering a   1% risk acceptance (**, ***),\n  0.04 false positives, when considering a 0.1% risk acceptance (***)\n</code></pre></div>\n<p dir=\"auto\">For this script:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"const {Writable} = require('node:stream');\n\nlet w;\n\nfor (let i = 0; i &lt; 1000; i++) {\n  w = new Writable();\n}\n\n// eliminate v8 dead code elimination\nconsole.assert(w);\"><pre class=\"notranslate\"><span class=\"pl-k\">const</span> <span class=\"pl-kos\">{</span>Writable<span class=\"pl-kos\">}</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'node:stream'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">let</span> <span class=\"pl-s1\">w</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">for</span> <span class=\"pl-kos\">(</span><span class=\"pl-k\">let</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">0</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span> <span class=\"pl-c1\">&lt;</span> <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">;</span> <span class=\"pl-s1\">i</span><span class=\"pl-c1\">++</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-s1\">w</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Writable</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-c\">// eliminate v8 dead code elimination</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">assert</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">w</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">the system analyzer shows a big reduction in size:</p>\n<p dir=\"auto\"><strong>Before:</strong><br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/16746759/270135593-0c969f8f-ab36-49ba-a624-e2ef143c1fb8.png\"><img src=\"https://user-images.githubusercontent.com/16746759/270135593-0c969f8f-ab36-49ba-a624-e2ef143c1fb8.png\" alt=\"Before\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><strong>After:</strong><br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/16746759/270135600-515c4574-1b3b-430e-a97a-1873f1f7f529.png\"><img src=\"https://user-images.githubusercontent.com/16746759/270135600-515c4574-1b3b-430e-a97a-1873f1f7f529.png\" alt=\"After\" style=\"max-width: 100%;\"></a></p>",
            "url": "https://github.com/nodejs/node/pull/49834",
            "title": "stream: use bitmap in writable state",
            "date_modified": "2023-09-26T19:24:09.000Z",
            "date_published": "2023-09-23T21:05:48.000Z",
            "author": {
                "name": "rluvaton",
                "url": "https://github.com/rluvaton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/42794878?u=c2da6d9d9cc86ff6ae7bd4c089f2cdbb9ff01a84&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #19308.\">Closes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"304589485\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/19308\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/19308/hovercard\" href=\"https://github.com/nodejs/node/issues/19308\">#19308</a></p>\n",
            "url": "https://github.com/nodejs/node/pull/49830",
            "title": "lib: add WebSocket",
            "date_modified": "2023-09-28T13:01:33.000Z",
            "date_published": "2023-09-23T16:42:09.000Z",
            "author": {
                "name": "KhafraDev",
                "url": "https://github.com/KhafraDev"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1315533?v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">cc <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/ronag/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ronag\">@ronag</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/anonrig/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/anonrig\">@anonrig</a> this should save (worst case) 17 bytes per stream</p>",
            "url": "https://github.com/nodejs/node/pull/49745",
            "title": "stream: use bitmap in readable state",
            "date_modified": "2023-09-24T09:06:00.000Z",
            "date_published": "2023-09-21T10:36:55.000Z",
            "author": {
                "name": "benjamingr",
                "url": "https://github.com/benjamingr"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/16746759?u=60fb76d4d645e86d42b147f009f2be0836a7317c&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">140% Improvement</p>\n<h3 dir=\"auto\">Benchmark CI</h3>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"                                                                        confidence improvement accuracy (*)    (**)   (***)\n webstreams/creation.js kind='ReadableStream.tee' n=50000                              -0.96 %       ±3.01%  ±4.01%  ±5.22%\n webstreams/creation.js kind='ReadableStream' n=50000                                  -0.15 %       ±3.60%  ±4.79%  ±6.24%\n webstreams/creation.js kind='ReadableStreamBYOBReader' n=50000                        -0.26 %       ±4.59%  ±6.11%  ±7.95%\n webstreams/creation.js kind='ReadableStreamDefaultReader' n=50000                      6.40 %      ±10.81% ±14.40% ±18.76%\n webstreams/creation.js kind='TransformStream' n=50000                                 -1.70 %       ±2.61%  ±3.48%  ±4.52%\n webstreams/creation.js kind='WritableStream' n=50000                                   0.50 %       ±4.24%  ±5.65%  ±7.35%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=1024 n=500000                 1.05 %       ±2.32%  ±3.09%  ±4.02%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=2048 n=500000                -0.07 %       ±1.67%  ±2.23%  ±2.90%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=4096 n=500000                 0.51 %       ±1.99%  ±2.66%  ±3.46%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=512 n=500000                 -1.66 %       ±1.92%  ±2.56%  ±3.33%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=1024 n=500000                 1.23 %       ±1.78%  ±2.37%  ±3.08%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=2048 n=500000                -0.59 %       ±2.23%  ±2.97%  ±3.87%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=4096 n=500000                 1.76 %       ±1.93%  ±2.57%  ±3.35%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=512 n=500000                 -1.05 %       ±2.07%  ±2.76%  ±3.60%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=1024 n=500000                -1.31 %       ±2.06%  ±2.74%  ±3.58%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=2048 n=500000                 0.71 %       ±1.97%  ±2.62%  ±3.41%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=4096 n=500000                 1.58 %       ±1.68%  ±2.24%  ±2.91%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=512 n=500000                 -1.58 %       ±2.00%  ±2.66%  ±3.46%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=1024 n=500000                 -1.08 %       ±2.10%  ±2.79%  ±3.64%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=2048 n=500000                 -1.20 %       ±2.05%  ±2.72%  ±3.54%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=4096 n=500000                 -0.27 %       ±2.23%  ±2.97%  ±3.87%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=512 n=500000                   1.03 %       ±2.07%  ±2.75%  ±3.58%\n webstreams/readable-async-iterator.js n=100000                                ***    140.34 %      ±13.76% ±18.45% ±24.31%\n \n Be aware that when doing many comparisons the risk of a false-positive\n result increases. In this case, there are 23 comparisons, you can thus\n expect the following amount of false-positive results:\n   1.15 false positives, when considering a   5% risk acceptance (*, **, ***),\n   0.23 false positives, when considering a   1% risk acceptance (**, ***),\n   0.02 false positives, when considering a 0.1% risk acceptance (***)\"><pre class=\"notranslate\"><code class=\"notranslate\">                                                                        confidence improvement accuracy (*)    (**)   (***)\n webstreams/creation.js kind='ReadableStream.tee' n=50000                              -0.96 %       ±3.01%  ±4.01%  ±5.22%\n webstreams/creation.js kind='ReadableStream' n=50000                                  -0.15 %       ±3.60%  ±4.79%  ±6.24%\n webstreams/creation.js kind='ReadableStreamBYOBReader' n=50000                        -0.26 %       ±4.59%  ±6.11%  ±7.95%\n webstreams/creation.js kind='ReadableStreamDefaultReader' n=50000                      6.40 %      ±10.81% ±14.40% ±18.76%\n webstreams/creation.js kind='TransformStream' n=50000                                 -1.70 %       ±2.61%  ±3.48%  ±4.52%\n webstreams/creation.js kind='WritableStream' n=50000                                   0.50 %       ±4.24%  ±5.65%  ±7.35%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=1024 n=500000                 1.05 %       ±2.32%  ±3.09%  ±4.02%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=2048 n=500000                -0.07 %       ±1.67%  ±2.23%  ±2.90%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=4096 n=500000                 0.51 %       ±1.99%  ±2.66%  ±3.46%\n webstreams/pipe-to.js highWaterMarkW=1024 highWaterMarkR=512 n=500000                 -1.66 %       ±1.92%  ±2.56%  ±3.33%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=1024 n=500000                 1.23 %       ±1.78%  ±2.37%  ±3.08%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=2048 n=500000                -0.59 %       ±2.23%  ±2.97%  ±3.87%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=4096 n=500000                 1.76 %       ±1.93%  ±2.57%  ±3.35%\n webstreams/pipe-to.js highWaterMarkW=2048 highWaterMarkR=512 n=500000                 -1.05 %       ±2.07%  ±2.76%  ±3.60%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=1024 n=500000                -1.31 %       ±2.06%  ±2.74%  ±3.58%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=2048 n=500000                 0.71 %       ±1.97%  ±2.62%  ±3.41%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=4096 n=500000                 1.58 %       ±1.68%  ±2.24%  ±2.91%\n webstreams/pipe-to.js highWaterMarkW=4096 highWaterMarkR=512 n=500000                 -1.58 %       ±2.00%  ±2.66%  ±3.46%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=1024 n=500000                 -1.08 %       ±2.10%  ±2.79%  ±3.64%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=2048 n=500000                 -1.20 %       ±2.05%  ±2.72%  ±3.54%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=4096 n=500000                 -0.27 %       ±2.23%  ±2.97%  ±3.87%\n webstreams/pipe-to.js highWaterMarkW=512 highWaterMarkR=512 n=500000                   1.03 %       ±2.07%  ±2.75%  ±3.58%\n webstreams/readable-async-iterator.js n=100000                                ***    140.34 %      ±13.76% ±18.45% ±24.31%\n \n Be aware that when doing many comparisons the risk of a false-positive\n result increases. In this case, there are 23 comparisons, you can thus\n expect the following amount of false-positive results:\n   1.15 false positives, when considering a   5% risk acceptance (*, **, ***),\n   0.23 false positives, when considering a   1% risk acceptance (**, ***),\n   0.02 false positives, when considering a 0.1% risk acceptance (***)\n</code></pre></div>\n<h3 dir=\"auto\">My local tests</h3>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"confidence improvement accuracy (*)   (**)  (***)\nwebstreams/readable-async-iterator.js n=100000                                ***    136.22 %       ±1.83% ±2.45% ±3.24%\n\nBe aware that when doing many comparisons the risk of a false-positive result increases.\nIn this case, there are 23 comparisons, you can thus expect the following amount of false-positive results:\n  1.15 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.23 false positives, when considering a   1% risk acceptance (**, ***),\n  0.02 false positives, when considering a 0.1% risk acceptance (***)\"><pre class=\"notranslate\"><code class=\"notranslate\">confidence improvement accuracy (*)   (**)  (***)\nwebstreams/readable-async-iterator.js n=100000                                ***    136.22 %       ±1.83% ±2.45% ±3.24%\n\nBe aware that when doing many comparisons the risk of a false-positive result increases.\nIn this case, there are 23 comparisons, you can thus expect the following amount of false-positive results:\n  1.15 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.23 false positives, when considering a   1% risk acceptance (**, ***),\n  0.02 false positives, when considering a 0.1% risk acceptance (***)\n</code></pre></div>",
            "url": "https://github.com/nodejs/node/pull/49662",
            "title": "stream: improve webstream readable async iterator performance",
            "date_modified": "2023-09-18T19:08:36.000Z",
            "date_published": "2023-09-15T11:32:53.000Z",
            "author": {
                "name": "rluvaton",
                "url": "https://github.com/rluvaton"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1935246?u=440932d4aed022e31a2140e1825c0167b7a12357&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">From now on, you can pass multiple <code class=\"notranslate\">--env-file</code> arguments. Each valid config file will<br>\noverride any pre-existing declarations made in previous config file.</p>\n<p dir=\"auto\">Example:</p>\n<div class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"node --env-file=.env --env-file=.development.env index.js\"><pre class=\"notranslate\">node --env-file=.env --env-file=.development.env index.js</pre></div>\n<p dir=\"auto\">Ref: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1848712274\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49148\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/49148/hovercard\" href=\"https://github.com/nodejs/node/issues/49148\">#49148</a></p>",
            "url": "https://github.com/nodejs/node/pull/49542",
            "title": "src: support multiple `--env-file` declarations",
            "date_modified": "2023-09-10T03:44:39.000Z",
            "date_published": "2023-09-07T18:20:29.000Z",
            "author": {
                "name": "anonrig",
                "url": "https://github.com/anonrig"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/105249312?u=2aa72cc031a6224b470aa5cd0b62286cdd8766e0&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR replaces: <a href=\"https://github.com/nodejs/node/pull/48934\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/48934/hovercard\">nodejs/node#48934</a></p>\n<hr>\n<h2 dir=\"auto\"><a href=\"https://github.com/npm/cli/releases/tag/v10.0.0\">10.0.0</a> (2023-08-31)</h2>\n<h3 dir=\"auto\"><g-emoji class=\"g-emoji\" alias=\"warning\">⚠️</g-emoji> BREAKING CHANGES</h3>\n<ul dir=\"auto\">\n<li>support for node 14 and 16 has been dropped. <code class=\"notranslate\">npm</code> now supports node <code class=\"notranslate\">^18.17.0 || &gt;=20.5.0</code></li>\n<li>npm no longer treats missing scripts as a special case in workspace mode.  Use <code class=\"notranslate\">if-present</code> to ignore missing scripts.</li>\n<li><code class=\"notranslate\">@npmcli/agent</code> is now used as the agent for network requests</li>\n<li>the <code class=\"notranslate\">ci-name</code> config has been removed</li>\n<li>the hard-coded <code class=\"notranslate\">hashAlgorithm</code> value is no longer being passed through flatOptions</li>\n<li>the unused <code class=\"notranslate\">tmp</code> config has been removed</li>\n<li>the hard-coded <code class=\"notranslate\">metrics-registry</code> config has been removed.</li>\n<li>libnpmpublish will no longer attempt a single automatic retry on 409 responses during publish.</li>\n<li>support for the strict RFC 8909 mode has been removed. this mode was only enabled when the environ <code class=\"notranslate\">NPM_PACKAGE_ARG_8909_STRICT=1</code> was set.</li>\n</ul>\n<h3 dir=\"auto\">Bug Fixes</h3>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/npm/cli/commit/e0d3edd9908f8303abb9941bdd2f6e9aa31bc9d7\"><code class=\"notranslate\">e0d3edd</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> remove \"ci-name\" config (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/0a71ebb3d1e7fca07d39ea64e5f1acd22ecd255c\"><code class=\"notranslate\">0a71ebb</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> stop retrying on 409 conflict (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/npm-package-arg/commit/934416709cb14ad0a0bab6e544b8d42c62aa279f\"><code class=\"notranslate\">9344167</code></a> <a href=\"https://github.com/npm/npm-package-arg/pull/135\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/npm-package-arg/pull/135/hovercard\">#135</a> remove strict 8909 mode (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/b34ee65ad1c82b53d5b5b28595203e18163fe4df\"><code class=\"notranslate\">b34ee65</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> set objectMode for search filter stream (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/lukekarrys/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lukekarrys\">@lukekarrys</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/f916d333c16b4f0433d8a304e856b73ed4f949cd\"><code class=\"notranslate\">f916d33</code></a> <a href=\"https://github.com/npm/cli/pull/6715\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6715/hovercard\">#6715</a> allow searching packages with no description (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/lukekarrys/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/lukekarrys\">@lukekarrys</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/0318f442fe6c18275607a5d574c383f085484e6e\"><code class=\"notranslate\">0318f44</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> remove implicit if-present logic from run-script workspaces (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/db91a77032f4024878d56bde099b2b3765ff08d2\"><code class=\"notranslate\">db91a77</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> remove \"hashAlgorithm\" from flatOptions (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/ece52a3dda09b1df960ae042d53560f18d446d5f\"><code class=\"notranslate\">ece52a3</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> remove \"tmp\" config (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/1f767aa306e3a550e2c0aefb16a0370e59b44ce3\"><code class=\"notranslate\">1f767aa</code></a> <a href=\"https://github.com/npm/cli/pull/6641\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6641/hovercard\">#6641</a> remove metric-registry config (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/wraithgar/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/wraithgar\">@wraithgar</a>)</li>\n</ul>\n<h3 dir=\"auto\">Documentation</h3>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/npm/cli/commit/c736b622b8504b07f5a19f631ade42dd40063269\"><code class=\"notranslate\">c736b62</code></a> <a href=\"https://github.com/npm/cli/pull/6686\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6686/hovercard\">#6686</a> add missing bugs key in package-json.md (<a href=\"https://github.com/npm/cli/issues/6686\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6686/hovercard\">#6686</a>) (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/airscripts/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/airscripts\">@airscripts</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/c1e01d97da3b775edf104de158ee5db5cf027d0d\"><code class=\"notranslate\">c1e01d9</code></a> <a href=\"https://github.com/npm/cli/pull/6680\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6680/hovercard\">#6680</a> Update package-json.md (<a href=\"https://github.com/npm/cli/issues/6680\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6680/hovercard\">#6680</a>) (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/p-chan/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/p-chan\">@p-chan</a>, <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/ljharb/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/ljharb\">@ljharb</a>)</li>\n<li><a href=\"https://github.com/npm/cli/commit/e5338af3ca5d1aea78348f4894481eef3b1f7354\"><code class=\"notranslate\">e5338af</code></a> <a href=\"https://github.com/npm/cli/pull/6672\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6672/hovercard\">#6672</a> remove link to deprecated <code class=\"notranslate\">npm set-script</code> command (<a href=\"https://github.com/npm/cli/issues/6672\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6672/hovercard\">#6672</a>) (<a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/emmanuel-ferdman/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/emmanuel-ferdman\">@emmanuel-ferdman</a>)</li>\n</ul>\n<h3 dir=\"auto\">Dependencies</h3>\n<ul dir=\"auto\">\n<li><a href=\"https://github.com/npm/cli/commit/5ab3f7e944b12481cb1164175c7a79d24d5e3ac5\"><code class=\"notranslate\">5ab3f7e</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/git@5.0.3</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/eb41977c56cbac88fa7d02f88dbf630cc652471a\"><code class=\"notranslate\">eb41977</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/run-script@7.0.1</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/f30c9e30c2a6d777ea31157a90fddadc81fd11d0\"><code class=\"notranslate\">f30c9e3</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/git@5.0.2</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/f334466c53669e7debd4b9c67eafca74955509ee\"><code class=\"notranslate\">f334466</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@17.0.4</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/bb63bf945b2db8f3074e7429aff6343721c55cd1\"><code class=\"notranslate\">bb63bf9</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/run-script@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/75642c6041195e093ef15ee2a42e1fc6a381c572\"><code class=\"notranslate\">75642c6</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/promise-spawn@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/dbb18f4778a97915cd8bbb737a807f3db51c4619\"><code class=\"notranslate\">dbb18f4</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/agent@2.1.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/812aa6d2027ed42453b86b22f4cf8de25f6e0180\"><code class=\"notranslate\">812aa6d</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">sigstore@2.1.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/7fab9d3d2efd71f505658216dc44d802bc3203a6\"><code class=\"notranslate\">7fab9d3</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@sigstore/tuf@2.1.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/12337cc9d43bae2c5ad75e295b6a4d70e15a39cf\"><code class=\"notranslate\">12337cc</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">which@4.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/b1ad3ad194d046aa6209a4efad961429b379393c\"><code class=\"notranslate\">b1ad3ad</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-packlist@8.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/43831d0fe4b02cb18d1c533f2831aaeedf5102e1\"><code class=\"notranslate\">43831d0</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@17.0.3</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/44e8fec3f28ce3bdd0500b92cbcf8f211da3c866\"><code class=\"notranslate\">44e8fec</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@17.0.2</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/0d2e2c9d09ff760d8db09774fcd7ad417a88c4c7\"><code class=\"notranslate\">0d2e2c9</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> bump sigstore from 1.7.0 to 2.0.0</li>\n<li><a href=\"https://github.com/npm/cli/commit/dbd5885364648d3f2fe1c7b672e8aeadcd06edd1\"><code class=\"notranslate\">dbd5885</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-profile@9.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/2ee0fb3ac0c5e49f9eba545d6b05e20be1352414\"><code class=\"notranslate\">2ee0fb3</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-registry-fetch@16.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/81ff4dfd17024efb068816c9b0824ffc709a7cc4\"><code class=\"notranslate\">81ff4df</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@17.0.1</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/2b23d44a9f0f01370d4999853aedecec4f1d8dd3\"><code class=\"notranslate\">2b23d44</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> hoist <code class=\"notranslate\">read-package-json@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/325ed05be53b57096727fb962925bf362edf9730\"><code class=\"notranslate\">325ed05</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> hoist <code class=\"notranslate\">normalize-package-data@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/c3a1a021780d948a3023b622700b98aabb0df2f4\"><code class=\"notranslate\">c3a1a02</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/metavuln-calculator@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/f1dd1305fdcba0b7f5496223b5a65f0fe7e29975\"><code class=\"notranslate\">f1dd130</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/git@5.0.1</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/10792ea951a3ef8fc138f82d7b81484006213ce9\"><code class=\"notranslate\">10792ea</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">init-package-json@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/cac07256e7234d0782a4833dae207732c71fef95\"><code class=\"notranslate\">cac0725</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@17.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/fd8beaf4de23b8fbd9d5b968e10a5034d1a8f7bd\"><code class=\"notranslate\">fd8beaf</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-pick-manifest@9.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/65f435ee0a088d6593d8e985c2519cdd783f9a6d\"><code class=\"notranslate\">65f435e</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> hoist <code class=\"notranslate\">lru-cache@10.0.1</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/c784b57b654d25e8d932e6fe415b87e75dcf9026\"><code class=\"notranslate\">c784b57</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-package-arg@11.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/d6b1790492d9bc96c196d85d8fc9fd98d62d0087\"><code class=\"notranslate\">d6b1790</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">normalize-package-data@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/2f03fb9d8f25fd2b047d46edb608eb75f1f36017\"><code class=\"notranslate\">2f03fb9</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">make-fetch-happen@13.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/729e893cf610de725142f72cc344d1c11f42d7af\"><code class=\"notranslate\">729e893</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">hosted-git-info@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/7af81c7360a6df31cdb0a8f18104b42656166378\"><code class=\"notranslate\">7af81c7</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">cacache@18.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/b0849ab6feb62bf307ee362389bfcaf0e85653be\"><code class=\"notranslate\">b0849ab</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/package-json@5.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/c9587d79c7c02aff4f53b093bf6702026ecea53a\"><code class=\"notranslate\">c9587d7</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/git@5.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/e28d42674deb791d862e07756bb453190773e6ec\"><code class=\"notranslate\">e28d426</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">minipass-fetch@3.0.4</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/61e9b00e096ce2e3122f1b21d22f3073ff22f2ce\"><code class=\"notranslate\">61e9b00</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/metavuln-calculator@6.0.1</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/2c5542d29ba207e7c5c4337ac9ad7f296188508a\"><code class=\"notranslate\">2c5542d</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">minipass@7.0.3</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/ede7f5e74ad4d88559fec2532ddba2facbd7af7f\"><code class=\"notranslate\">ede7f5e</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">glob@10.3.3</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/4c9eb1703bd41555e4ef7c2fc087a349b90c9b4c\"><code class=\"notranslate\">4c9eb17</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-install-checks@6.2.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/88ece8161021997cb5c22040b34d0dffff55fcf1\"><code class=\"notranslate\">88ece81</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-pick-manifest@8.0.2</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/9117a4fcf05291ce7609bcad5bb810df9a5158e7\"><code class=\"notranslate\">9117a4f</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">ssri@10.0.5</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/45f8d6f15f82067f27d56357159a7f965b857f5d\"><code class=\"notranslate\">45f8d6f</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">make-fetch-happen@12.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/f6f6a18120b31626259cdd4da834524a034aa4cb\"><code class=\"notranslate\">f6f6a18</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">fs-minipass@3.0.3</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/5eea975437ab27d02afa2aaee59b2d4f98831df3\"><code class=\"notranslate\">5eea975</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">cacache@17.1.4</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/ca33c9840533435bda634adefb61757f30fad5ab\"><code class=\"notranslate\">ca33c98</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">@npmcli/metavuln-calculator@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/7be541a7a82cf1fb0de58953605b69c058f7efe0\"><code class=\"notranslate\">7be541a</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-profile@8.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/edbc25a5980c34e0d28aac7503475cd33e07f7d2\"><code class=\"notranslate\">edbc25a</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">pacote@16.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/commit/5d0d8592cbf3b816d9fe44c36d390200ec15e87a\"><code class=\"notranslate\">5d0d859</code></a> <a href=\"https://github.com/npm/cli/pull/6706\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/npm/cli/pull/6706/hovercard\">#6706</a> <code class=\"notranslate\">npm-registry-fetch@15.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/arborist-v7.0.0\">Workspace</a>: <code class=\"notranslate\">@npmcli/arborist@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/config-v7.1.0\">Workspace</a>: <code class=\"notranslate\">@npmcli/config@7.1.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmaccess-v8.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmaccess@8.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmdiff-v6.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmdiff@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmexec-v7.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmexec@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmfund-v4.1.0\">Workspace</a>: <code class=\"notranslate\">libnpmfund@4.1.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmhook-v10.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmhook@10.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmorg-v6.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmorg@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmpack-v6.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmpack@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmpublish-v9.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmpublish@9.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmsearch-v7.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmsearch@7.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmteam-v6.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmteam@6.0.0</code></li>\n<li><a href=\"https://github.com/npm/cli/releases/tag/libnpmversion-v5.0.0\">Workspace</a>: <code class=\"notranslate\">libnpmversion@5.0.0</code></li>\n</ul>",
            "url": "https://github.com/nodejs/node/pull/49423",
            "title": "deps: upgrade npm to 10.0.0",
            "date_modified": "2023-09-18T14:13:53.000Z",
            "date_published": "2023-08-31T21:21:32.000Z",
            "author": {
                "name": "npm-cli-bot",
                "url": "https://github.com/npm-cli-bot"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/18269663?u=0c9e9c1f0a4d40e2b3f46d18f0e6721f9125411a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This is an automated update of root-certificates to 3.93.</p>\n<p dir=\"auto\">Notable change:<br>\nRoot certificates added:</p>\n<ul dir=\"auto\">\n<li>Sectigo Public Server Authentication Root E46</li>\n<li>Sectigo Public Server Authentication Root R46</li>\n<li>SSL.com TLS RSA Root CA 2022</li>\n<li>SSL.com TLS ECC Root CA 2022</li>\n<li>Atos TrustedRoot Root CA ECC TLS 2021</li>\n<li>Atos TrustedRoot Root CA RSA TLS 2021</li>\n</ul>\n<p dir=\"auto\">Root certificates removed:</p>\n<ul dir=\"auto\">\n<li>Hongkong Post Root CA 1</li>\n<li>E-Tugra Certification Authority</li>\n<li>E-Tugra Global Root CA RSA v3</li>\n<li>E-Tugra Global Root CA ECC v3</li>\n</ul>",
            "url": "https://github.com/nodejs/node/pull/49341",
            "title": "crypto: update root-certificates to 3.93",
            "date_modified": "2023-08-29T15:44:59.000Z",
            "date_published": "2023-08-27T00:22:48.000Z",
            "author": {
                "name": "nodejs-github-bot",
                "url": "https://github.com/nodejs-github-bot"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/3012099?u=b5d31a5d6b688ed6823b52a3fcc91c2f506f4fd3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR removes the <code class=\"notranslate\">globalPreload</code> module customization hook. It is no longer needed now that its functionality is provided by the <code class=\"notranslate\">register</code> API paired with the <code class=\"notranslate\">initialize</code> hook. You can see examples of refactoring from <code class=\"notranslate\">globalPreload</code> to <code class=\"notranslate\">register</code> / <code class=\"notranslate\">initialize</code> in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1878893727\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49465\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/49465/hovercard\" href=\"https://github.com/nodejs/node/pull/49465\">#49465</a> and in some of the updated tests in this PR.</p>\n<p dir=\"auto\">Besides removing the hook itself, the <code class=\"notranslate\">test-esm-loader-hooks.mjs</code> test <code class=\"notranslate\">describe('globalPreload'</code> block and <code class=\"notranslate\">test-esm-loader-side-effect.mjs</code> were removed. These were testing parts of <code class=\"notranslate\">globalPreload</code>, like that its communications ports work, that we already have separate tests for covering the superseding equivalent in <code class=\"notranslate\">register</code> / <code class=\"notranslate\">initialize</code>; or they were testing things that we don’t need tests for outside of the <code class=\"notranslate\">globalPreload</code> context, such that global variables declared in a preload script are accessible on the main thread. (The new API calls <code class=\"notranslate\">register</code> from the main thread, and global variables can be declared there, and we don’t need a test that global variables declared on the main thread can be read on the main thread.)</p>\n<p dir=\"auto\">This PR completes the <a href=\"https://github.com/nodejs/loaders#milestone-2-stability\">loaders roadmap Milestone 2</a>.</p>\n<h3 dir=\"auto\">Notable changes</h3>\n<h4 dir=\"auto\">Module customization hook <code class=\"notranslate\">globalPreload</code> removed; use <code class=\"notranslate\">register</code> and <code class=\"notranslate\">initialize</code> instead</h4>\n<p dir=\"auto\">The module customization hook <code class=\"notranslate\">globalPreload</code> has been removed. Instead, use <a href=\"https://nodejs.org/api/module.html#moduleregister\" rel=\"nofollow\"><code class=\"notranslate\">register</code></a> to send data from the application thread to the customization hooks, and the <a href=\"https://nodejs.org/api/module.html#initialize\" rel=\"nofollow\"><code class=\"notranslate\">initialize</code></a> hook to establish a communications channel between the threads.</p>",
            "url": "https://github.com/nodejs/node/pull/49144",
            "title": "esm: remove `globalPreload` hook (superseded by `initialize`)",
            "date_modified": "2023-09-11T03:23:42.000Z",
            "date_published": "2023-08-13T17:04:53.000Z",
            "author": {
                "name": "JakobJingleheimer",
                "url": "https://github.com/JakobJingleheimer"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/43477095?u=520c93b926f357e71202130c45627289ef817bb6&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Breaking change: Support for a single comma separates list for allow-fs-* flags is removed.</p>\n<p dir=\"auto\">This means that</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"--alow-fs-read=/path/to/file.txt,/other/file/path.txt\"><pre class=\"notranslate\"><code class=\"notranslate\">--alow-fs-read=/path/to/file.txt,/other/file/path.txt\n</code></pre></div>\n<p dir=\"auto\">Will be interpreted as a single file.</p>\n<p dir=\"auto\">When using a single flag and including commas in said flag a warning will be emitted explaining the change.</p>\n<p dir=\"auto\">Instead now multiple flags can be passed to allow multiple paths.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"--allow-fs-read=/path/to/file.txt --allow-fs-read=/other/file/path.txt\"><pre class=\"notranslate\"><code class=\"notranslate\">--allow-fs-read=/path/to/file.txt --allow-fs-read=/other/file/path.txt\n</code></pre></div>\n<p dir=\"auto\">Will allow access to both paths.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #1039.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1773489419\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/security-wg/issues/1039\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/security-wg/issues/1039/hovercard\" href=\"https://github.com/nodejs/security-wg/issues/1039\">nodejs/security-wg#1039</a></p>\n",
            "url": "https://github.com/nodejs/node/pull/49047",
            "title": "src,permission: add multiple allow-fs-* flags",
            "date_modified": "2023-08-21T16:22:49.000Z",
            "date_published": "2023-08-06T21:18:13.000Z",
            "author": {
                "name": "Ceres6",
                "url": "https://github.com/Ceres6"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/598730?u=62984c4f4ede922870c5cc2dbdf498926c7c0f9e&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Unflags <code class=\"notranslate\">import.meta.resolve</code> making the second <code class=\"notranslate\">parentURL</code> argument still gated behind the same <code class=\"notranslate\">--experimental-import-meta-resolve</code> flag so that existing users would retain backwards compatibility, while the default behaviour becomes standards compliant.</p>\n<p dir=\"auto\">If we can combine this approach with supporting <code class=\"notranslate\">file:///</code> URLs in <code class=\"notranslate\">fetch</code>, that would be a powerful new approach for cross-platform asset loading - <code class=\"notranslate\">await (await fetch(import.meta.resolve('./asset.bin'))).arrayBuffer()</code> which hopefully in turn bundlers should also be able to support better too.</p>\n<p dir=\"auto\">//cc @nodejs/modules</p>",
            "url": "https://github.com/nodejs/node/pull/49028",
            "title": "esm: unflag import.meta.resolve",
            "date_modified": "2023-08-13T14:55:49.000Z",
            "date_published": "2023-08-05T17:43:26.000Z",
            "author": {
                "name": "guybedford",
                "url": "https://github.com/guybedford"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1935246?u=440932d4aed022e31a2140e1825c0167b7a12357&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><blockquote>\n<p dir=\"auto\">Follow-ups in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1848712274\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49148\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/49148/hovercard\" href=\"https://github.com/nodejs/node/issues/49148\">#49148</a></p>\n</blockquote>\n<h2 dir=\"auto\">Follow-up from the comments:</h2>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/cjihrig/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/cjihrig\">@cjihrig</a>:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Using a custom path instead of .env file in the current working directory.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> The option to augment vs. overwrite the existing process.env with the values from the .env file. If we support augmenting, what happens on conflict (overwrite, don’t overwrite, throw, etc.)?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>Programmatic API</del>.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>The ability to put the loaded values in an object other than process.env.</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>Multiline values.</del></li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Comments in the .env files.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> <del>Variable expansion.</del></li>\n</ul>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/KhafraDev/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/KhafraDev\">@KhafraDev</a></p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> regarding testing and validation, you can take dotenv’s test suite <a href=\"https://github.com/motdotla/dotenv/tree/master/tests\">https://github.com/motdotla/dotenv/tree/master/tests</a></li>\n</ul>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/GeoffreyBooth/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/GeoffreyBooth\">@GeoffreyBooth</a></p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> the flag should be –env-file [path-to-file] so like –env-file .env or –env-file .env.development or whatever.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> fix and support windows newline character</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Support <code class=\"notranslate\">NODE_OPTIONS</code></li>\n</ul>\n<h2 dir=\"auto\">Missing features</h2>\n<p dir=\"auto\">The following features are not implemented in this current context. And can be implemented in a separate PR.</p>\n<ul dir=\"auto\">\n<li>Respect newline character in values with <code class=\"notranslate\">\"</code></li>\n<li>Multiline values</li>\n<li>Variable expansion</li>\n<li>Incremental env support (.env.development overrides .env on NODE_ENV=development)</li>\n</ul>\n<p dir=\"auto\">Ref: <a href=\"https://github.com/orgs/nodejs/discussions/44975\">https://github.com/orgs/nodejs/discussions/44975</a></p>",
            "url": "https://github.com/nodejs/node/pull/48890",
            "title": "src: add built-in `.env` file support",
            "date_modified": "2023-09-27T19:43:40.000Z",
            "date_published": "2023-07-23T04:18:28.000Z",
            "author": {
                "name": "anonrig",
                "url": "https://github.com/anonrig"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/67366097?u=61689a08b94862d67a9ebb69b8f9b94ae07e9ca9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/>",
            "url": "https://github.com/nodejs/node/pull/48765",
            "title": "inspector: open add `SymbolDispose`",
            "date_modified": "2023-07-16T09:47:00.000Z",
            "date_published": "2023-07-14T07:43:18.000Z",
            "author": {
                "name": "atlowChemi",
                "url": "https://github.com/atlowChemi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1935246?u=440932d4aed022e31a2140e1825c0167b7a12357&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This pull request improves the performance of <code class=\"notranslate\">fs.readFileSync</code> for UTF-8 encoding.</p>\n<p dir=\"auto\">Benchmark CI: <a href=\"https://ci.nodejs.org/view/Node.js%20benchmark/job/benchmark-node-micro-benchmarks/1346\" rel=\"nofollow\">https://ci.nodejs.org/view/Node.js%20benchmark/job/benchmark-node-micro-benchmarks/1346</a></p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"                                                                  confidence improvement accuracy (*)   (**)   (***)\nfs/readFileSync.js n=600 path='existing' encoding='undefined'                    -2.98 %       ±3.46% ±4.61%  ±6.00%\nfs/readFileSync.js n=600 path='existing' encoding='utf8'                 ***     72.60 %       ±6.46% ±8.64% ±11.32%\nfs/readFileSync.js n=600 path='non-existing' encoding='undefined'                -1.16 %       ±2.29% ±3.05%  ±3.97%\nfs/readFileSync.js n=600 path='non-existing' encoding='utf8'                      2.02 %       ±3.05% ±4.06%  ±5.28%\n\nBe aware that when doing many comparisons the risk of a false-positive\nresult increases. In this case, there are 4 comparisons, you can thus\nexpect the following amount of false-positive results:\n  0.20 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.04 false positives, when considering a   1% risk acceptance (**, ***),\n  0.00 false positives, when considering a 0.1% risk acceptance (***)\"><pre class=\"notranslate\"><code class=\"notranslate\">                                                                  confidence improvement accuracy (*)   (**)   (***)\nfs/readFileSync.js n=600 path='existing' encoding='undefined'                    -2.98 %       ±3.46% ±4.61%  ±6.00%\nfs/readFileSync.js n=600 path='existing' encoding='utf8'                 ***     72.60 %       ±6.46% ±8.64% ±11.32%\nfs/readFileSync.js n=600 path='non-existing' encoding='undefined'                -1.16 %       ±2.29% ±3.05%  ±3.97%\nfs/readFileSync.js n=600 path='non-existing' encoding='utf8'                      2.02 %       ±3.05% ±4.06%  ±5.28%\n\nBe aware that when doing many comparisons the risk of a false-positive\nresult increases. In this case, there are 4 comparisons, you can thus\nexpect the following amount of false-positive results:\n  0.20 false positives, when considering a   5% risk acceptance (*, **, ***),\n  0.04 false positives, when considering a   1% risk acceptance (**, ***),\n  0.00 false positives, when considering a 0.1% risk acceptance (***)\n</code></pre></div>",
            "url": "https://github.com/nodejs/node/pull/48658",
            "title": "fs: add a fast-path for readFileSync utf-8",
            "date_modified": "2023-09-12T01:18:03.000Z",
            "date_published": "2023-07-05T15:37:45.000Z",
            "author": {
                "name": "anonrig",
                "url": "https://github.com/anonrig"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/67366097?u=61689a08b94862d67a9ebb69b8f9b94ae07e9ca9&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">I am not sure this is the correct way to expose such a util, <del>and I still need to add docs and UT</del>, just wanted to get some feedback first 🙂</p>\n<p dir=\"auto\">Refs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1773498025\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/48550\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/48550/hovercard?comment_id=1612702494&amp;comment_type=issue_comment\" href=\"https://github.com/nodejs/node/pull/48550#issuecomment-1612702494\">#48550 (comment)</a></p>\n<p dir=\"auto\"><a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/mcollina/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mcollina\">@mcollina</a> <a class=\"user-mention notranslate\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/benjamingr/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/benjamingr\">@benjamingr</a> CC</p>\n",
            "url": "https://github.com/nodejs/node/pull/48596",
            "title": "events: allow safely adding listener to abortSignal",
            "date_modified": "2023-07-06T16:48:18.000Z",
            "date_published": "2023-06-29T10:24:01.000Z",
            "author": {
                "name": "atlowChemi",
                "url": "https://github.com/atlowChemi"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8221854?u=656e1eb9ee161eedbd253bebb625d523b191a8a3&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Both TypeScript and Bable already support <code class=\"notranslate\">using</code> (<a href=\"https://github.com/tc39/proposal-explicit-resource-management\">explicit resource management proposal</a>),<br>\nadding this to node will be convenient</p>\n<p dir=\"auto\">Co-authored-by: Benjamin Gruenbaum <a href=\"mailto:benjamingr@gmail.com\">benjamingr@gmail.com</a></p>",
            "url": "https://github.com/nodejs/node/pull/48518",
            "title": "fs, stream: add initial `Symbol.dispose` and `Symbol.asyncDispose` support",
            "date_modified": "2023-09-11T13:59:47.000Z",
            "date_published": "2023-06-22T09:10:40.000Z",
            "author": {
                "name": "MoLow",
                "url": "https://github.com/MoLow"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/4299420?u=d7eb2cf3db5f2a4df73a8f719c2e9e3d648e4e43&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This PR (hopefully) fixes a bunch of memory leaks &amp; use-after-free surrounding <code class=\"notranslate\">vm.Script</code>, <code class=\"notranslate\">vm.compileFunction</code>, <code class=\"notranslate\">vm.SyntheticModule</code> and <code class=\"notranslate\">vm.SourceTextModule</code> when dynamic import is used (see the issues referenced below) and makes it possible for people to upgrade from older versions of Node.js.</p>\n<p dir=\"auto\">This cannot land as-is on v20.x as it depends on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1880869824\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49491\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/49491/hovercard\" href=\"https://github.com/nodejs/node/pull/49491\">#49491</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1875121662\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/49419\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/49419/hovercard\" href=\"https://github.com/nodejs/node/pull/49419\">#49419</a> which break the ABI on v20x. If this proves to fix the issues in the wild without causing regressions, we'll need to do an exceptional breakage of ABI on v20.x to backport it (hopefully before it goes LTS and before v21.x is cut). It might be already too late to break the ABI on v18.x, however.</p>\n<h4 dir=\"auto\">module: use symbol in WeakMap to manage host defined options</h4>\n<p dir=\"auto\">Previously when managing the importModuleDynamically callback of<br>\nvm.compileFunction(), we use an ID number as the host defined option<br>\nand maintain a per-Environment ID -&gt; CompiledFnEntry map to retain<br>\nthe top-level referrer function returned by vm.compileFunction() in<br>\norder to pass it back to the callback, but it would leak because with<br>\nhow we used v8::Persistent to maintain this reference, V8 would not<br>\nbe able to understand the cycle and would just think that the<br>\nCompiledFnEntry was supposed to live forever. We made an attempt<br>\nto make that reference known to V8 by making the CompiledFnEntry weak<br>\nand using a private symbol to make CompiledFnEntry strongly<br>\nreferences the top-level referrer function in<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1595732057\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/46785\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/46785/hovercard\" href=\"https://github.com/nodejs/node/pull/46785\">#46785</a>, but that turned out to be<br>\nunsound, because the there's no guarantee that the top-level function<br>\nmust be alive while import() can still be initiated from that<br>\nfunction, since V8 could discard the top-level function and only keep<br>\ninner functions alive, so relying on the top-level function to keep<br>\nthe CompiledFnEntry alive could result in use-after-free which caused<br>\na revert of that fix.</p>\n<p dir=\"auto\">With this patch we use a symbol in the host defined options instead of<br>\na number, because with the stage-3 symbol-as-weakmap-keys proposal<br>\nwe could directly use that symbol to keep the referrer alive using a<br>\nWeakMap. As a bonus this also keeps the other kinds of referrers<br>\nalive as long as import() can still be initiated from that<br>\nScript/Module, so this also fixes the long-standing crash caused by<br>\nvm.Script being GC'ed too early when its importModuleDynamically<br>\ncallback still needs it.</p>\n<h4 dir=\"auto\">module: fix leak of vm.SyntheticModule</h4>\n<p dir=\"auto\">Previously we maintain a strong persistent reference to the<br>\nModuleWrap to retrieve the ID-to-ModuleWrap mapping from<br>\nthe HostImportModuleDynamicallyCallback using the number ID<br>\nstored in the host-defined options. As a result the ModuleWrap<br>\nwould be kept alive until the Environment is shut down, which<br>\nwould be a leak for user code. With the new symbol-based<br>\nhost-defined option we can just get the ModuleWrap from the<br>\nJS-land WeakMap so there's now no need to maintain this<br>\nstrong reference. This would at least fix the leak for<br>\nvm.SyntheticModule. vm.SourceTextModule is still leaking<br>\ndue to the strong persistent reference to the v8::Module.</p>\n<h4 dir=\"auto\">module: fix the leak in SourceTextModule and ContextifySript</h4>\n<p dir=\"auto\">Replace the persistent handles to v8::Module and<br>\nv8::UnboundScript with an internal reference that V8's GC is<br>\naware of to fix the leaks.</p>\n<p dir=\"auto\">Refs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1335517586\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/44211\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/44211/hovercard\" href=\"https://github.com/nodejs/node/issues/44211\">#44211</a><br>\nRefs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1147212720\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/42080\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/42080/hovercard\" href=\"https://github.com/nodejs/node/issues/42080\">#42080</a><br>\nRefs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1624228307\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47096\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/47096/hovercard\" href=\"https://github.com/nodejs/node/issues/47096\">#47096</a><br>\nRefs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1248078522\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/43205\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/43205/hovercard\" href=\"https://github.com/nodejs/node/issues/43205\">#43205</a><br>\nRefs: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"892413466\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/38695\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/38695/hovercard\" href=\"https://github.com/nodejs/node/issues/38695\">#38695</a></p>\n",
            "url": "https://github.com/nodejs/node/pull/48510",
            "title": "module: use symbol in weakmap to maintain lifetime of modules' host defined options",
            "date_modified": "2023-09-14T21:11:19.000Z",
            "date_published": "2023-06-21T16:01:05.000Z",
            "author": {
                "name": "joyeecheung",
                "url": "https://github.com/joyeecheung"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/18269663?u=0c9e9c1f0a4d40e2b3f46d18f0e6721f9125411a&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This is an automated update of root-certificates to 3.90.</p>",
            "url": "https://github.com/nodejs/node/pull/48416",
            "title": "crypto: update root-certificates to 3.90",
            "date_modified": "2023-08-24T12:36:44.000Z",
            "date_published": "2023-06-11T00:29:15.000Z",
            "author": {
                "name": "nodejs-github-bot",
                "url": "https://github.com/nodejs-github-bot"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/8500303?u=50e30202b089c2c9bd355d8f86eae6ebcda67ffd&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">Node-API version 9 promotes the following Node-API into stable:</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">node_api_throw_syntax_error</code></li>\n<li><code class=\"notranslate\">node_api_create_syntax_error</code></li>\n<li><code class=\"notranslate\">node_api_symbol_for</code></li>\n<li><code class=\"notranslate\">node_api_get_module_file_name</code></li>\n</ul>\n<p dir=\"auto\">Runtime behavior changes introduced in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1707725672\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47975\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/47975/hovercard\" href=\"https://github.com/nodejs/node/pull/47975\">#47975</a> and <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1708514946\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47986\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nodejs/node/pull/47986/hovercard\" href=\"https://github.com/nodejs/node/pull/47986\">#47986</a> are still left experimental since they landed just in the past month and not backported to all LTS lines.</p>\n<p dir=\"auto\">/cc @nodejs/node-api-implementer</p>",
            "url": "https://github.com/nodejs/node/pull/48151",
            "title": "node-api: define version 9",
            "date_modified": "2023-06-02T15:09:39.000Z",
            "date_published": "2023-05-24T10:52:21.000Z",
            "author": {
                "name": "legendecas",
                "url": "https://github.com/legendecas"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/1084056?u=67d7d93b07701371573e69af932ddc1f5c17fce8&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\"><del>Still I need to add the list of notable changes and bugs this fixes, but let's see how the CI goes.</del></p>\n<h2 dir=\"auto\">Notable changes</h2>\n<ul dir=\"auto\">\n<li>linux: introduce io_uring support <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1665308925\" data-permission-text=\"Title is private\" data-url=\"https://github.com/libuv/libuv/issues/3952\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/libuv/libuv/pull/3952/hovercard\" href=\"https://github.com/libuv/libuv/pull/3952\">libuv/libuv#3952</a></li>\n<li>src: add new metrics APIs <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1373706051\" data-permission-text=\"Title is private\" data-url=\"https://github.com/libuv/libuv/issues/3749\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/libuv/libuv/pull/3749/hovercard\" href=\"https://github.com/libuv/libuv/pull/3749\">libuv/libuv#3749</a></li>\n<li>unix,win: give thread pool threads an 8 MB stack <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1407340585\" data-permission-text=\"Title is private\" data-url=\"https://github.com/libuv/libuv/issues/3787\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/libuv/libuv/pull/3787/hovercard\" href=\"https://github.com/libuv/libuv/pull/3787\">libuv/libuv#3787</a></li>\n<li>win,unix: change execution order of timers <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1628086284\" data-permission-text=\"Title is private\" data-url=\"https://github.com/libuv/libuv/issues/3927\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/libuv/libuv/pull/3927/hovercard\" href=\"https://github.com/libuv/libuv/pull/3927\">libuv/libuv#3927</a></li>\n</ul>\n<h2 dir=\"auto\">Fixes</h2>\n<ul dir=\"auto\">\n<li><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #43931.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1313260849\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/43931\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/43931/hovercard\" href=\"https://github.com/nodejs/node/issues/43931\">#43931</a></li>\n<li><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #42496.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1182585807\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/42496\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/42496/hovercard\" href=\"https://github.com/nodejs/node/issues/42496\">#42496</a></li>\n<li><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47715.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1683451725\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47715\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/47715/hovercard\" href=\"https://github.com/nodejs/node/issues/47715\">#47715</a></li>\n<li><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47259.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1640865919\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47259\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/47259/hovercard\" href=\"https://github.com/nodejs/node/issues/47259\">#47259</a></li>\n<li><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #47241.\">Fixes</span>: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1638491428\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/node/issues/47241\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/node/issues/47241/hovercard\" href=\"https://github.com/nodejs/node/issues/47241\">#47241</a></li>\n</ul>",
            "url": "https://github.com/nodejs/node/pull/48078",
            "title": "deps: upgrade to libuv 1.45.0",
            "date_modified": "2023-09-11T14:03:48.000Z",
            "date_published": "2023-05-19T11:57:47.000Z",
            "author": {
                "name": "santigimeno",
                "url": "https://github.com/santigimeno"
            }
        },
        {
            "content_html": "<img src=\"https://avatars.githubusercontent.com/u/403268?u=ee621ccb994518b40e8bbf43ae2cf49ff09bcace&v=4\" width=\"64\" height=\"64\" alt=\"\"/><br/><p dir=\"auto\">This is an example toy loader that supports HTTP[S]. This code <em>should</em> work (in a simplistic way):</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"export async function load(url, context, nextLoad) {\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    const response = await fetch(url, {redirect: 'follow'})\n    const source = await response.text()\n\n    return {shortCircuit: true, format: 'module',source}\n  }\n  return await nextLoad(url, context)\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">export</span> <span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">load</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">url</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">nextLoad</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">url</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">startsWith</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'http://'</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">||</span> <span class=\"pl-s1\">url</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">startsWith</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'https://'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">response</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-en\">fetch</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">url</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-c1\">redirect</span>: <span class=\"pl-s\">'follow'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">source</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">response</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">text</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span><span class=\"pl-c1\">shortCircuit</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">format</span>: <span class=\"pl-s\">'module'</span><span class=\"pl-kos\">,</span>source<span class=\"pl-kos\">}</span>\n  <span class=\"pl-kos\">}</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">nextLoad</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">url</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Unfortunately, this won't work. If you use it, you will get an <code class=\"notranslate\">ERR_UNSUPPORTED_ESM_URL_SCHEME</code> because the default Node.js resolver doesn't support HTTPS, and throws on unknown schemes. So unfortunately I had to write that this loader needs a resolver, even though the only thing it does is support loading HTTPS. And the resolver I had to wrote was non-trivial, and IIUC replicates some of what the default resolver does:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"export async function resolve(specifier, context, nextResolve) {\n  if (isBareSpecifier(specifier))\n    return await nextResolve(specifier, context)\n\n  const url = new URL(specifier, context.parentURL).href\n\n  if (url.startsWith('http://') || url.startsWith('https://'))\n    return {url, shortCircuit: true}\n\n  return await nextResolve(specifier, context)\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">export</span> <span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">resolve</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">specifier</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">nextResolve</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-en\">isBareSpecifier</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">specifier</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">nextResolve</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">specifier</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">)</span>\n\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">url</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-c1\">URL</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">specifier</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">parentURL</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">href</span>\n\n  <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">url</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">startsWith</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'http://'</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">||</span> <span class=\"pl-s1\">url</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">startsWith</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'https://'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>url<span class=\"pl-kos\">,</span> <span class=\"pl-c1\">shortCircuit</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">}</span>\n\n  <span class=\"pl-k\">return</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">nextResolve</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">specifier</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">context</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">Thinking about it more, I realized that the only reason I need to write this resolver is that Node.js doesn't recognize the HTTP scheme <em>in its resolver</em>. But if Node.js would have not recognized the scheme in the <em>loader</em>, then I wouldn't have needed to write this resolver <em>at all</em>.</p>\n<p dir=\"auto\">So my point is this: <strong>both checks for unknown scheme and unknown file extension should move from the default Node.js <em>resolver</em> to the default Node.js <em>loader</em></strong>. This will obviate the need for some loaders to implement a <code class=\"notranslate\">resolve</code> which mostly replicates the Node.js logic, just for the sake of avoiding these exceptions.</p>\n<p dir=\"auto\">This PR implements exactly that.</p>\n<p dir=\"auto\"><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #138.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1684476758\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nodejs/loaders/issues/138\" data-hovercard-type=\"issue\" data-hovercard-url=\"/nodejs/loaders/issues/138/hovercard\" href=\"https://github.com/nodejs/loaders/issues/138\">nodejs/loaders#138</a></p>\n\n<p dir=\"auto\">Notable change:</p>\n<p dir=\"auto\">The ESM loader no longer throws on unknown protocol/file extension in the resolve phase, so <code class=\"notranslate\">import.meta.resolve</code> behavior matches the behavior of other runtimes. This change is potentially for loader hooks authors that rely on the old behavior.</p>",
            "url": "https://github.com/nodejs/node/pull/47824",
            "title": "module: change default resolver to not throw on unknown scheme",
            "date_modified": "2023-05-19T16:27:09.000Z",
            "date_published": "2023-05-02T16:52:04.000Z",
            "author": {
                "name": "giltayar",
                "url": "https://github.com/giltayar"
            }
        }
    ]
}